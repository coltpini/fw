fw.extendElement("addLoading",function(a,b,c,d){this.removeLoading(),("static"===this.style.position||"static"===fw.cssStyle(this,"position"))&&(this.style.position="relative");var e=this.createChild("<div>").addClass("loading");"string"==typeof c&&e.addClass(c);var f=e.createChild("div"),g=fw.styleProp("transform"),h=fw.styleProp("animation");if(g.is&&h.is)for(var i=a||8,j=Math.round(360/i),k=1;i+1>k;k++){var l=f.createChild("div").addClass("segment"),m=l.createChild("span"),n=j*k+"deg",o=3*Math.random(),p=30,q=8,r=2/k;l.style[g.prop]="rotate("+n+")",l.style[h.prop]="loader "+o+"s linear infinite",d?d(i,b,k,l,m):("tornado"===b?q=o*k*k:"traditional"===b?(l.style[h.prop]="none",m.style.borderRadius="2px",q=8*2*Math.PI,r=10/(k+1)):b>0&&(q=b),p=q*Math.PI/a,l.style.width=q+"px",l.style.height=p+"px",l.style.marginLeft=-(q/2)+"px",l.style.marginTop=-(p/2)+"px",l.opacity(r))}else f.addClass("fallback")}),fw.extendElement("removeLoading",function(){var a=this.find(".loading");a&&(a.opacity=0,setTimeout(function(){a&&a.parentNode?a.parentNode.removeChild(a):""},100))});